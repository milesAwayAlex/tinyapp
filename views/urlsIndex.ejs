<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/_head'); %>
    <title>TinyApp</title>
  </head>
  <body>
    <%- include('./partials/_header'); %>
    <main style="margin: 1em">
      <h3>My URLs</h3>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Short URL</th>
            <th scope="col">Long URL</th>
            <th scope="col">Edit URL</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>
        <tbody>
          <% Object.entries(urls).forEach(([key,{longURL}]) => { %>
          <tr>
            <td><a href="/urls/<%= key %>"><%= key %></a></td>
            <td><a href="<%= longURL %>"><%= longURL %></a></td>
            <td>
              <a href="/urls/<%= key %>">
                <button type="submit" class="btn btn-outline-primary">
                  Edit
                </button></a
              >
            </td>
            <td>
              <form method="POST" action="/urls/<%= key %>/delete">
                <button type="submit" class="btn btn-outline-danger">
                  Delete
                </button>
              </form>
            </td>
          </tr>
          <% }) %>
        </tbody>
      </table>
      <a class="nav-item nav-link" href="/urls/new">Create New URL</a>
    </main>
  </body>
</html>
